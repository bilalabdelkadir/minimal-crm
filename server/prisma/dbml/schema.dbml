//// ------------------------------------------------------
//// THIS FILE WAS AUTOMATICALLY GENERATED (DO NOT MODIFY)
//// ------------------------------------------------------

Table users {
  id String [pk]
  email String [unique, not null]
  firstName String [not null]
  lastName String
  password String [not null]
  phoneNumber String [unique]
  isPhoneVerified Boolean [not null, default: false]
  isEmailVerified Boolean [not null, default: false]
  isMultiFactorAuthEnabled Boolean [not null, default: false]
  profilePicture String
  refreshToken String
  createdAt DateTime [default: `now()`, not null]
  updatedAt DateTime [default: `now()`, not null]
  deletedAt DateTime
  associatedWorkspaces workspaces [not null]
  otp otps [not null]
}

Table otps {
  id String [pk]
  otp Int [not null]
  email String
  phoneNumber String
  createdAt DateTime [default: `now()`, not null]
  expiredAt DateTime [not null]
  user users
  userId String [unique]
  sentOver OtpSentTo [not null]
  verifiedAt DateTime

  indexes {
    (otp, userId) [unique]
  }
}

Table workspaces {
  id String [pk]
  name String [not null]
  description String
  logo String
  website String
  createdAt DateTime [default: `now()`, not null]
  updatedAt DateTime [default: `now()`, not null]
  deletedAt DateTime
  users users [not null]
}

Table associatedWorkspaces {
  associatedworkspacesId String [ref: > workspaces.id]
  usersId String [ref: > users.id]
}

Enum OtpSentTo {
  EMAIL
  PHONE
}

Ref: otps.userId > users.id